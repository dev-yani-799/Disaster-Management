{% extends 'home.html' %} 
{% block content %}

<div class="w-[600px] min-h-[500px] bg-white mx-auto mt-12">
  <form method="POST" action="" onsubmit="return validateForm()">
    {% csrf_token %}
    <div class="w-full h-[500px] flex flex-col items-center justify-center">
      <h1 class="text-lg font-bold opacity-70 mb-4 tracking-widest">LOGIN</h1>
      <div id="error-messages">
        {% for message in messages %}
        <p class="mb-2 text-xs text-red-500">{{ message }}</p>
        {% endfor %}
      </div>
      <input
        autofocus
        required
        type="email"
        name="email"
        id="email"
        placeholder="Email"
        class="border w-[400px] mb-12 h-12 rounded outline-none px-3 drop-shadow"
      />
      <input
        required
        type="password"
        name="password"
        id="password"
        placeholder="Password"
        class="border w-[400px] mb-12 h-12 rounded outline-none px-3 drop-shadow"
      />
      <input
        type="submit"
        value="Login"
        class="text-white bg-gray-600 rounded font-bold w-[400px] cursor-pointer hover:bg-gray-600/80 p-2 mb-6"
      />
      <p class="text-black opacity-70">
        Don't have an Account ?<span
          ><a
            class="text-gray-500 ml-2 hover:text-gray-600 font-semibold"
            href="{% url 'register' %}"
            >Create Account</a
          ></span
        >
      </p>
    </div>
  </form>
</div>

<script>
  function validateForm() {
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;
    var errorMessages = document.getElementById('error-messages');
    errorMessages.innerHTML = ''; // Clear previous error messages

    var isValid = true;

    if (!email || !email.trim()) {
      errorMessages.innerHTML += '<p class="mb-2 text-xs text-red-500">Please enter your email.</p>';
      isValid = false;
    }

    if (!password || !password.trim()) {
      errorMessages.innerHTML += '<p class="mb-2 text-xs text-red-500">Please enter your password.</p>';
      isValid = false;
    }

    return isValid;
  }
</script>

{% endblock content %}
